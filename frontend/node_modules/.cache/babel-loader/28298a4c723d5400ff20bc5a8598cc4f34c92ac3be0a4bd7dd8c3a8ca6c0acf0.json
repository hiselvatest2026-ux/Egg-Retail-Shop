{"ast":null,"code":"import _objectSpread from\"/workspace/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getCustomers,createCustomer,updateCustomer,deleteCustomer}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Customers=()=>{const[customers,setCustomers]=useState([]);const[form,setForm]=useState({name:'',contact_info:''});const[editing,setEditing]=useState(null);const fetchCustomers=async()=>{const res=await getCustomers();setCustomers(res.data);};useEffect(()=>{fetchCustomers();},[]);const handleSubmit=async e=>{e.preventDefault();if(!form.name)return;if(editing){await updateCustomer(editing,form);}else{await createCustomer(form);}setForm({name:'',contact_info:''});setEditing(null);fetchCustomers();};const startEdit=c=>{setEditing(c.id);setForm({name:c.name||'',contact_info:c.contact_info||''});};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold mb-4\",children:\"Customers\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm\",children:\"Contact\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2 w-full\",value:form.contact_info,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{contact_info:e.target.value}))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 text-white px-3 py-2 rounded\",type:\"submit\",children:editing?'Update':'Add'})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full mt-4 border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:customers.map(c=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:c.id}),/*#__PURE__*/_jsx(\"td\",{children:c.name}),/*#__PURE__*/_jsx(\"td\",{children:c.contact_info}),/*#__PURE__*/_jsxs(\"td\",{className:\"space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 text-white px-2 py-1 rounded\",onClick:()=>startEdit(c),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-2 py-1 rounded\",onClick:async()=>{await deleteCustomer(c.id);fetchCustomers();},children:\"Delete\"})]})]},c.id))})]})]});};export default Customers;","map":{"version":3,"names":["React","useEffect","useState","getCustomers","createCustomer","updateCustomer","deleteCustomer","jsx","_jsx","jsxs","_jsxs","Customers","customers","setCustomers","form","setForm","name","contact_info","editing","setEditing","fetchCustomers","res","data","handleSubmit","e","preventDefault","startEdit","c","id","className","children","onSubmit","value","onChange","_objectSpread","target","type","map","onClick"],"sources":["/workspace/frontend/src/pages/Customers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getCustomers, createCustomer, updateCustomer, deleteCustomer } from '../api/api';\n\nconst Customers = () => {\n  const [customers, setCustomers] = useState([]);\n  const [form, setForm] = useState({ name: '', contact_info: '' });\n  const [editing, setEditing] = useState(null);\n\n  const fetchCustomers = async () => { const res = await getCustomers(); setCustomers(res.data); };\n  useEffect(() => { fetchCustomers(); }, []);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!form.name) return;\n    if (editing) {\n      await updateCustomer(editing, form);\n    } else {\n      await createCustomer(form);\n    }\n    setForm({ name: '', contact_info: '' });\n    setEditing(null);\n    fetchCustomers();\n  };\n\n  const startEdit = (c) => { setEditing(c.id); setForm({ name: c.name || '', contact_info: c.contact_info || '' }); };\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-xl font-bold mb-4\">Customers</h1>\n      <form onSubmit={handleSubmit} className=\"grid grid-cols-1 sm:grid-cols-3 gap-2 items-end mb-4\">\n        <div>\n          <label className=\"block text-sm\">Name</label>\n          <input className=\"border p-2 w-full\" value={form.name} onChange={e=>setForm({...form, name: e.target.value})} />\n        </div>\n        <div>\n          <label className=\"block text-sm\">Contact</label>\n          <input className=\"border p-2 w-full\" value={form.contact_info} onChange={e=>setForm({...form, contact_info: e.target.value})} />\n        </div>\n        <button className=\"bg-green-600 text-white px-3 py-2 rounded\" type=\"submit\">{editing ? 'Update' : 'Add'}</button>\n      </form>\n\n      <table className=\"w-full mt-4 border\">\n        <thead><tr><th>ID</th><th>Name</th><th>Contact</th><th>Actions</th></tr></thead>\n        <tbody>\n          {customers.map(c => (\n            <tr key={c.id}>\n              <td>{c.id}</td>\n              <td>{c.name}</td>\n              <td>{c.contact_info}</td>\n              <td className=\"space-x-2\">\n                <button className=\"bg-blue-600 text-white px-2 py-1 rounded\" onClick={()=>startEdit(c)}>Edit</button>\n                <button className=\"bg-red-500 text-white px-2 py-1 rounded\" onClick={async()=>{ await deleteCustomer(c.id); fetchCustomers(); }}>Delete</button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default Customers;\n\n"],"mappings":"wGAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,YAAY,CAAEC,cAAc,CAAEC,cAAc,CAAEC,cAAc,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1F,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,CAAEc,IAAI,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CAChE,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5C,KAAM,CAAAkB,cAAc,CAAG,KAAAA,CAAA,GAAY,CAAE,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAlB,YAAY,CAAC,CAAC,CAAEU,YAAY,CAACQ,GAAG,CAACC,IAAI,CAAC,CAAE,CAAC,CAChGrB,SAAS,CAAC,IAAM,CAAEmB,cAAc,CAAC,CAAC,CAAE,CAAC,CAAE,EAAE,CAAC,CAE1C,KAAM,CAAAG,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACX,IAAI,CAACE,IAAI,CAAE,OAChB,GAAIE,OAAO,CAAE,CACX,KAAM,CAAAb,cAAc,CAACa,OAAO,CAAEJ,IAAI,CAAC,CACrC,CAAC,IAAM,CACL,KAAM,CAAAV,cAAc,CAACU,IAAI,CAAC,CAC5B,CACAC,OAAO,CAAC,CAAEC,IAAI,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAC,CAAC,CACvCE,UAAU,CAAC,IAAI,CAAC,CAChBC,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,KAAM,CAAAM,SAAS,CAAIC,CAAC,EAAK,CAAER,UAAU,CAACQ,CAAC,CAACC,EAAE,CAAC,CAAEb,OAAO,CAAC,CAAEC,IAAI,CAAEW,CAAC,CAACX,IAAI,EAAI,EAAE,CAAEC,YAAY,CAAEU,CAAC,CAACV,YAAY,EAAI,EAAG,CAAC,CAAC,CAAE,CAAC,CAEnH,mBACEP,KAAA,QAAKmB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBtB,IAAA,OAAIqB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACrDpB,KAAA,SAAMqB,QAAQ,CAAER,YAAa,CAACM,SAAS,CAAC,sDAAsD,CAAAC,QAAA,eAC5FpB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,UAAOqB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAO,CAAC,cAC7CtB,IAAA,UAAOqB,SAAS,CAAC,mBAAmB,CAACG,KAAK,CAAElB,IAAI,CAACE,IAAK,CAACiB,QAAQ,CAAET,CAAC,EAAET,OAAO,CAAAmB,aAAA,CAAAA,aAAA,IAAKpB,IAAI,MAAEE,IAAI,CAAEQ,CAAC,CAACW,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,EAC7G,CAAC,cACNtB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,UAAOqB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,SAAO,CAAO,CAAC,cAChDtB,IAAA,UAAOqB,SAAS,CAAC,mBAAmB,CAACG,KAAK,CAAElB,IAAI,CAACG,YAAa,CAACgB,QAAQ,CAAET,CAAC,EAAET,OAAO,CAAAmB,aAAA,CAAAA,aAAA,IAAKpB,IAAI,MAAEG,YAAY,CAAEO,CAAC,CAACW,MAAM,CAACH,KAAK,EAAC,CAAE,CAAE,CAAC,EAC7H,CAAC,cACNxB,IAAA,WAAQqB,SAAS,CAAC,2CAA2C,CAACO,IAAI,CAAC,QAAQ,CAAAN,QAAA,CAAEZ,OAAO,CAAG,QAAQ,CAAG,KAAK,CAAS,CAAC,EAC7G,CAAC,cAEPR,KAAA,UAAOmB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnCtB,IAAA,UAAAsB,QAAA,cAAOpB,KAAA,OAAAoB,QAAA,eAAItB,IAAA,OAAAsB,QAAA,CAAI,IAAE,CAAI,CAAC,cAAAtB,IAAA,OAAAsB,QAAA,CAAI,MAAI,CAAI,CAAC,cAAAtB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,cAAAtB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,EAAI,CAAC,CAAO,CAAC,cAChFtB,IAAA,UAAAsB,QAAA,CACGlB,SAAS,CAACyB,GAAG,CAACV,CAAC,eACdjB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,OAAAsB,QAAA,CAAKH,CAAC,CAACC,EAAE,CAAK,CAAC,cACfpB,IAAA,OAAAsB,QAAA,CAAKH,CAAC,CAACX,IAAI,CAAK,CAAC,cACjBR,IAAA,OAAAsB,QAAA,CAAKH,CAAC,CAACV,YAAY,CAAK,CAAC,cACzBP,KAAA,OAAImB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACvBtB,IAAA,WAAQqB,SAAS,CAAC,0CAA0C,CAACS,OAAO,CAAEA,CAAA,GAAIZ,SAAS,CAACC,CAAC,CAAE,CAAAG,QAAA,CAAC,MAAI,CAAQ,CAAC,cACrGtB,IAAA,WAAQqB,SAAS,CAAC,yCAAyC,CAACS,OAAO,CAAE,KAAAA,CAAA,GAAS,CAAE,KAAM,CAAAhC,cAAc,CAACqB,CAAC,CAACC,EAAE,CAAC,CAAER,cAAc,CAAC,CAAC,CAAE,CAAE,CAAAU,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC9I,CAAC,GAPEH,CAAC,CAACC,EAQP,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}