{"ast":null,"code":"import _objectSpread from\"/workspace/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getPurchases,createPurchase,deletePurchase}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Purchases=()=>{const[purchases,setPurchases]=useState([]);const[form,setForm]=useState({supplier_id:'',total:''});const fetchPurchases=async()=>{const res=await getPurchases();setPurchases(res.data);};useEffect(()=>{fetchPurchases();},[]);const handleSubmit=async e=>{e.preventDefault();if(!form.supplier_id||!form.total)return;await createPurchase({supplier_id:Number(form.supplier_id),total:Number(form.total)});setForm({supplier_id:'',total:''});fetchPurchases();};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold mb-4\",children:\"Purchases\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"flex gap-2 items-end mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm\",children:\"Supplier ID\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",value:form.supplier_id,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{supplier_id:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm\",children:\"Total\"}),/*#__PURE__*/_jsx(\"input\",{className:\"border p-2\",value:form.total,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{total:e.target.value}))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-green-600 text-white px-3 py-2 rounded\",type:\"submit\",children:\"Add Purchase\"})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full mt-4 border\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Supplier\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:purchases.map(p=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:p.id}),/*#__PURE__*/_jsx(\"td\",{children:p.supplier_id}),/*#__PURE__*/_jsx(\"td\",{children:p.total}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 text-white px-2 py-1 rounded\",onClick:()=>{deletePurchase(p.id);fetchPurchases();},children:\"Delete\"})})]},p.id))})]})]});};export default Purchases;","map":{"version":3,"names":["React","useEffect","useState","getPurchases","createPurchase","deletePurchase","jsx","_jsx","jsxs","_jsxs","Purchases","purchases","setPurchases","form","setForm","supplier_id","total","fetchPurchases","res","data","handleSubmit","e","preventDefault","Number","className","children","onSubmit","value","onChange","_objectSpread","target","type","map","p","id","onClick"],"sources":["/workspace/frontend/src/pages/Purchases.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getPurchases, createPurchase, deletePurchase } from '../api/api';\n\nconst Purchases = () => {\n  const [purchases, setPurchases] = useState([]);\n  const [form, setForm] = useState({ supplier_id: '', total: '' });\n  const fetchPurchases = async () => { const res = await getPurchases(); setPurchases(res.data); };\n  useEffect(() => { fetchPurchases(); }, []);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!form.supplier_id || !form.total) return;\n    await createPurchase({ supplier_id: Number(form.supplier_id), total: Number(form.total) });\n    setForm({ supplier_id: '', total: '' });\n    fetchPurchases();\n  };\n  return (<div className=\"p-4\">\n    <h1 className=\"text-xl font-bold mb-4\">Purchases</h1>\n    <form onSubmit={handleSubmit} className=\"flex gap-2 items-end mb-4\">\n      <div>\n        <label className=\"block text-sm\">Supplier ID</label>\n        <input className=\"border p-2\" value={form.supplier_id} onChange={e=>setForm({...form, supplier_id: e.target.value})} />\n      </div>\n      <div>\n        <label className=\"block text-sm\">Total</label>\n        <input className=\"border p-2\" value={form.total} onChange={e=>setForm({...form, total: e.target.value})} />\n      </div>\n      <button className=\"bg-green-600 text-white px-3 py-2 rounded\" type=\"submit\">Add Purchase</button>\n    </form>\n    <table className=\"w-full mt-4 border\">\n      <thead><tr><th>ID</th><th>Supplier</th><th>Total</th><th>Actions</th></tr></thead>\n      <tbody>{purchases.map(p => (<tr key={p.id}>\n        <td>{p.id}</td><td>{p.supplier_id}</td><td>{p.total}</td>\n        <td><button className=\"bg-red-500 text-white px-2 py-1 rounded\" onClick={()=>{deletePurchase(p.id); fetchPurchases();}}>Delete</button></td>\n      </tr>))}</tbody>\n    </table>\n  </div>);\n}\nexport default Purchases;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}