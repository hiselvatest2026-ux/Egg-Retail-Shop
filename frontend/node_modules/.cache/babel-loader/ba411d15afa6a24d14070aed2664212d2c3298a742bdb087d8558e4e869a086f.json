{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{getSaleInvoice}from'../api/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Invoice=()=>{const{id}=useParams();const[invoice,setInvoice]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{(async()=>{const res=await getSaleInvoice(id);setInvoice(res.data);setLoading(false);})();},[id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:\"Loading invoice...\"});if(!invoice)return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:\"Invoice not found.\"});const{sale,items,total}=invoice;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-xl font-bold\",children:[\"Invoice #\",sale.id]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-700 text-white px-3 py-2 rounded\",onClick:()=>window.print(),children:\"Print\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Date: \",new Date(sale.sale_date).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Customer ID: \",sale.customer_id]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full border mb-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map((it,idx)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:idx+1}),/*#__PURE__*/_jsx(\"td\",{children:it.product_name}),/*#__PURE__*/_jsx(\"td\",{children:it.quantity}),/*#__PURE__*/_jsx(\"td\",{children:it.price}),/*#__PURE__*/_jsx(\"td\",{children:it.line_total})]},it.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right text-xl font-bold\",children:[\"Grand Total: \\u20B9 \",Number(total||0).toFixed(2)]})]});};export default Invoice;","map":{"version":3,"names":["React","useEffect","useState","useParams","getSaleInvoice","jsx","_jsx","jsxs","_jsxs","Invoice","id","invoice","setInvoice","loading","setLoading","res","data","className","children","sale","items","total","onClick","window","print","Date","sale_date","toLocaleString","customer_id","map","it","idx","product_name","quantity","price","line_total","Number","toFixed"],"sources":["/workspace/frontend/src/pages/Invoice.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getSaleInvoice } from '../api/api';\n\nconst Invoice = () => {\n  const { id } = useParams();\n  const [invoice, setInvoice] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      const res = await getSaleInvoice(id);\n      setInvoice(res.data);\n      setLoading(false);\n    })();\n  }, [id]);\n\n  if (loading) return <div className=\"p-4\">Loading invoice...</div>;\n  if (!invoice) return <div className=\"p-4\">Invoice not found.</div>;\n\n  const { sale, items, total } = invoice;\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h1 className=\"text-xl font-bold\">Invoice #{sale.id}</h1>\n        <button className=\"bg-gray-700 text-white px-3 py-2 rounded\" onClick={()=>window.print()}>Print</button>\n      </div>\n      <div className=\"mb-4\">\n        <div>Date: {new Date(sale.sale_date).toLocaleString()}</div>\n        <div>Customer ID: {sale.customer_id}</div>\n      </div>\n\n      <table className=\"w-full border mb-4\">\n        <thead>\n          <tr><th>#</th><th>Product</th><th>Qty</th><th>Price</th><th>Total</th></tr>\n        </thead>\n        <tbody>\n          {items.map((it, idx) => (\n            <tr key={it.id}>\n              <td>{idx + 1}</td>\n              <td>{it.product_name}</td>\n              <td>{it.quantity}</td>\n              <td>{it.price}</td>\n              <td>{it.line_total}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"text-right text-xl font-bold\">Grand Total: â‚¹ {Number(total || 0).toFixed(2)}</div>\n    </div>\n  );\n};\n\nexport default Invoice;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,OAASC,cAAc,KAAQ,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAAEC,EAAG,CAAC,CAAGP,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACQ,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,CAAC,SAAY,CACX,KAAM,CAAAc,GAAG,CAAG,KAAM,CAAAX,cAAc,CAACM,EAAE,CAAC,CACpCE,UAAU,CAACG,GAAG,CAACC,IAAI,CAAC,CACpBF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,EAAE,CAAC,CACN,CAAC,CAAE,CAACJ,EAAE,CAAC,CAAC,CAER,GAAIG,OAAO,CAAE,mBAAOP,IAAA,QAAKW,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,CACjE,GAAI,CAACP,OAAO,CAAE,mBAAOL,IAAA,QAAKW,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,CAElE,KAAM,CAAEC,IAAI,CAAEC,KAAK,CAAEC,KAAM,CAAC,CAAGV,OAAO,CAEtC,mBACEH,KAAA,QAAKS,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBV,KAAA,QAAKS,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDV,KAAA,OAAIS,SAAS,CAAC,mBAAmB,CAAAC,QAAA,EAAC,WAAS,CAACC,IAAI,CAACT,EAAE,EAAK,CAAC,cACzDJ,IAAA,WAAQW,SAAS,CAAC,0CAA0C,CAACK,OAAO,CAAEA,CAAA,GAAIC,MAAM,CAACC,KAAK,CAAC,CAAE,CAAAN,QAAA,CAAC,OAAK,CAAQ,CAAC,EACrG,CAAC,cACNV,KAAA,QAAKS,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnBV,KAAA,QAAAU,QAAA,EAAK,QAAM,CAAC,GAAI,CAAAO,IAAI,CAACN,IAAI,CAACO,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC,EAAM,CAAC,cAC5DnB,KAAA,QAAAU,QAAA,EAAK,eAAa,CAACC,IAAI,CAACS,WAAW,EAAM,CAAC,EACvC,CAAC,cAENpB,KAAA,UAAOS,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACnCZ,IAAA,UAAAY,QAAA,cACEV,KAAA,OAAAU,QAAA,eAAIZ,IAAA,OAAAY,QAAA,CAAI,GAAC,CAAI,CAAC,cAAAZ,IAAA,OAAAY,QAAA,CAAI,SAAO,CAAI,CAAC,cAAAZ,IAAA,OAAAY,QAAA,CAAI,KAAG,CAAI,CAAC,cAAAZ,IAAA,OAAAY,QAAA,CAAI,OAAK,CAAI,CAAC,cAAAZ,IAAA,OAAAY,QAAA,CAAI,OAAK,CAAI,CAAC,EAAI,CAAC,CACtE,CAAC,cACRZ,IAAA,UAAAY,QAAA,CACGE,KAAK,CAACS,GAAG,CAAC,CAACC,EAAE,CAAEC,GAAG,gBACjBvB,KAAA,OAAAU,QAAA,eACEZ,IAAA,OAAAY,QAAA,CAAKa,GAAG,CAAG,CAAC,CAAK,CAAC,cAClBzB,IAAA,OAAAY,QAAA,CAAKY,EAAE,CAACE,YAAY,CAAK,CAAC,cAC1B1B,IAAA,OAAAY,QAAA,CAAKY,EAAE,CAACG,QAAQ,CAAK,CAAC,cACtB3B,IAAA,OAAAY,QAAA,CAAKY,EAAE,CAACI,KAAK,CAAK,CAAC,cACnB5B,IAAA,OAAAY,QAAA,CAAKY,EAAE,CAACK,UAAU,CAAK,CAAC,GALjBL,EAAE,CAACpB,EAMR,CACL,CAAC,CACG,CAAC,EACH,CAAC,cAERF,KAAA,QAAKS,SAAS,CAAC,8BAA8B,CAAAC,QAAA,EAAC,sBAAe,CAACkB,MAAM,CAACf,KAAK,EAAI,CAAC,CAAC,CAACgB,OAAO,CAAC,CAAC,CAAC,EAAM,CAAC,EAC/F,CAAC,CAEV,CAAC,CAED,cAAe,CAAA5B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}